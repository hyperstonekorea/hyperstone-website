<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Final Integration Test - HYPERSTONE</title>
  
  <!-- Google Fonts - Audiowide -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/styles.css">
  
  <style>
    .test-section {
      margin: 20px 0;
      padding: 20px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: white;
    }
    .test-pass {
      color: #10b981;
      font-weight: bold;
    }
    .test-fail {
      color: #ef4444;
      font-weight: bold;
    }
    .test-result {
      margin: 10px 0;
      padding: 10px;
      background: #f9fafb;
      border-radius: 4px;
      font-family: monospace;
      font-size: 14px;
    }
  </style>
</head>
<body class="bg-gray-50">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-bold text-center mb-8" style="font-family: 'Audiowide', cursive; color: #0082FB;">
      HYPERSTONE - Final Integration Test
    </h1>
    
    <div id="test-results"></div>
    
    <div class="test-section">
      <h2 class="text-2xl font-bold mb-4">Manual Test Checklist</h2>
      <div class="space-y-2">
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Open index.html directly in browser (no server required)
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Verify Tailwind CSS styles are applied
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Verify Audiowide font loads for HYPERSTONE and DULITE
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Click all navigation links (smooth scroll works)
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Toggle language between KO and EN
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Scroll down to trigger infinite scroll
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Click on a product card to view details
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Click back button on product detail page
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Reload page and verify language preference persists
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Test on mobile device (responsive design)
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Test mobile hamburger menu
        </label>
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Verify all brand colors are correct
        </label>
      </div>
    </div>
    
    <div class="test-section">
      <h2 class="text-2xl font-bold mb-4">Actions</h2>
      <div class="space-x-4">
        <button onclick="runTests()" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
          Run Automated Tests
        </button>
        <a href="index.html" class="inline-block px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700">
          Go to Main Site
        </a>
        <button onclick="testLanguageSwitch()" class="px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
          Test Language Switch
        </button>
        <button onclick="testLocalStorage()" class="px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700">
          Test LocalStorage
        </button>
      </div>
    </div>
  </div>
  
  <!-- Load all JavaScript modules -->
  <script src="js/data.js"></script>
  <script src="js/i18n.js"></script>
  <script src="js/navigation.js"></script>
  <script src="js/infinite-scroll.js"></script>
  <script src="js/animations.js"></script>
  <script src="js/app.js"></script>
  
  <script>
    function addTestResult(title, passed, details) {
      const resultsDiv = document.getElementById('test-results');
      const testDiv = document.createElement('div');
      testDiv.className = 'test-section';
      
      const statusClass = passed ? 'test-pass' : 'test-fail';
      const statusText = passed ? '✓ PASS' : '✗ FAIL';
      
      testDiv.innerHTML = `
        <h3 class="text-xl font-bold mb-2">
          <span class="${statusClass}">${statusText}</span> ${title}
        </h3>
        <div class="test-result">${details}</div>
      `;
      
      resultsDiv.appendChild(testDiv);
    }
    
    function runTests() {
      document.getElementById('test-results').innerHTML = '';
      
      // Test 1: CDN Links
      const tailwindScript = document.querySelector('script[src*="tailwindcss"]');
      const googleFonts = document.querySelector('link[href*="fonts.googleapis.com"]');
      addTestResult(
        'CDN Links',
        tailwindScript && googleFonts,
        `Tailwind CSS: ${tailwindScript ? '✓' : '✗'}<br>Google Fonts: ${googleFonts ? '✓' : '✗'}`
      );
      
      // Test 2: JavaScript Modules
      const modulesLoaded = 
        typeof getProducts === 'function' &&
        typeof getCurrentLanguage === 'function' &&
        typeof setupNavigation === 'function' &&
        typeof setupInfiniteScroll === 'function' &&
        typeof setupAnimations === 'function';
      
      addTestResult(
        'JavaScript Modules',
        modulesLoaded,
        `data.js: ${typeof getProducts === 'function' ? '✓' : '✗'}<br>` +
        `i18n.js: ${typeof getCurrentLanguage === 'function' ? '✓' : '✗'}<br>` +
        `navigation.js: ${typeof setupNavigation === 'function' ? '✓' : '✗'}<br>` +
        `infinite-scroll.js: ${typeof setupInfiniteScroll === 'function' ? '✓' : '✗'}<br>` +
        `animations.js: ${typeof setupAnimations === 'function' ? '✓' : '✗'}`
      );
      
      // Test 3: Data Integrity
      const products = getProducts();
      const companyInfo = getCompanyInfo();
      const dataValid = products.length === 4 && companyInfo.businessInfo.registrationNumber === '336-87-03585';
      
      addTestResult(
        'Data Integrity',
        dataValid,
        `Products count: ${products.length} (expected: 4)<br>` +
        `Business registration: ${companyInfo.businessInfo.registrationNumber}<br>` +
        `CEO: ${companyInfo.businessInfo.ceo.ko}<br>` +
        `Phone: ${companyInfo.contact.phone}<br>` +
        `Email: ${companyInfo.contact.email}`
      );
      
      // Test 4: Language System
      const currentLang = getCurrentLanguage();
      const translationWorks = t('navigation.home') !== 'navigation.home';
      
      addTestResult(
        'Language System',
        translationWorks,
        `Current language: ${currentLang}<br>` +
        `Translation test: ${t('navigation.home')}<br>` +
        `LocalStorage: ${localStorage.getItem('language') || 'Not set'}`
      );
      
      // Test 5: HTML Structure
      const htmlValid = 
        document.doctype &&
        document.documentElement.lang &&
        document.querySelector('meta[charset]') &&
        document.querySelector('meta[name="viewport"]') &&
        document.title;
      
      addTestResult(
        'HTML Structure',
        htmlValid,
        `DOCTYPE: ${document.doctype ? '✓' : '✗'}<br>` +
        `Lang attribute: ${document.documentElement.lang ? '✓' : '✗'}<br>` +
        `Meta charset: ${document.querySelector('meta[charset]') ? '✓' : '✗'}<br>` +
        `Meta viewport: ${document.querySelector('meta[name="viewport"]') ? '✓' : '✗'}<br>` +
        `Title: ${document.title ? '✓' : '✗'}`
      );
      
      // Test 6: Brand Styling
      const brandElements = document.querySelectorAll('[style*="Audiowide"]');
      
      addTestResult(
        'Brand Styling',
        brandElements.length > 0,
        `Elements with Audiowide font: ${brandElements.length}<br>` +
        `Brand colors: #0082FB, #0064E0, #F1F5F8, #1C2B33`
      );
      
      // Summary
      addTestResult(
        'Overall Status',
        true,
        `All automated tests completed.<br>` +
        `Please complete the manual checklist above.<br>` +
        `The website can be opened directly in any browser without a server.`
      );
    }
    
    function testLanguageSwitch() {
      const currentLang = getCurrentLanguage();
      const newLang = currentLang === 'ko' ? 'en' : 'ko';
      
      setLanguage(newLang);
      
      alert(`Language switched from ${currentLang} to ${newLang}\n\n` +
            `Navigation.home: ${t('navigation.home')}\n` +
            `Hero.subtitle: ${t('hero.subtitle')}`);
      
      // Switch back
      setTimeout(() => {
        setLanguage(currentLang);
        alert(`Language restored to ${currentLang}`);
      }, 2000);
    }
    
    function testLocalStorage() {
      const currentLang = getCurrentLanguage();
      
      // Test setting language
      setLanguage('en');
      const stored1 = localStorage.getItem('language');
      
      setLanguage('ko');
      const stored2 = localStorage.getItem('language');
      
      // Restore
      setLanguage(currentLang);
      
      alert(`LocalStorage Test Results:\n\n` +
            `After setting 'en': ${stored1}\n` +
            `After setting 'ko': ${stored2}\n` +
            `Current: ${localStorage.getItem('language')}\n\n` +
            `✓ LocalStorage is working correctly!`);
    }
    
    // Run tests on load
    window.addEventListener('load', () => {
      setTimeout(runTests, 500);
    });
  </script>
</body>
</html>
